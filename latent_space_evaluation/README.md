
# Latent Space Evaluation Module

## Overview

The `latent_space_evaluation` module provides tools for evaluating and visualizing the latent spaces generated by deep learning models. It includes dimensionality reduction reducers, embedding plotters, and a suite of metrics to assess the quality and characteristics of embeddings.

## Features

- **Dimensionality Reduction:**
  - **PCAReducer**: Principal Component Analysis for reducing embeddings to 2D.
  - **TSNEReducer**: t-SNE algorithm for non-linear dimensionality reduction.
  - **UMAPReducer**: UMAP algorithm for manifold learning and dimensionality reduction.

- **Visualization:**
  - **EmbeddingPlotter**: Generates scatter plots of reduced embeddings with customizable parameters like palette, point size, and alpha transparency.

- **Metrics:**
  - **Silhouette Score**
  - **Davies-Bouldin Index**
  - **Adjusted Rand Index**
  - **Adjusted Mutual Information**
  - **Purity Score**
  - **Average Entropy**
  - **Trustworthiness**
  - **Intra-Class Compactness**
  - **Inter-Class Separation**
  - **Compactness-to-Separation Ratio**
  - **Mutual Information**
  - **Uniformity**
  - **Alignment**

## Usage

1. **Running Tests:**

   Execute the test script to validate the module's functionality:

   ```bash
   python test_script.py
   ```

2. **Dimensionality Reduction and Plotting:**

   ```python
   from reducers import PCAReducer, TSNEReducer, UMAPReducer
   from plotter import EmbeddingPlotter

   # Initialize reducers
   pca = PCAReducer(n_components=2, random_state=42)
   tsne = TSNEReducer(n_components=2, perplexity=30.0, random_state=42)
   umap = UMAPReducer(n_components=2, n_neighbors=15, min_dist=0.1, random_state=42)

   # Fit and transform embeddings
   pca_embeddings = pca.fit_transform(your_embeddings)
   tsne_embeddings = tsne.fit_transform(your_embeddings)
   umap_embeddings = umap.fit_transform(your_embeddings)

   # Initialize plotter
   plotter = EmbeddingPlotter(output_dir="./plots")

   # Plot embeddings
   plotter.plot(pca_embeddings, labels, title="PCA Reduction of Embeddings", file_name="pca_plot.png")
   plotter.plot(tsne_embeddings, labels, title="t-SNE Reduction of Embeddings", file_name="tsne_plot.png")
   plotter.plot(umap_embeddings, labels, title="UMAP Reduction of Embeddings", file_name="umap_plot.png")
   ```

3. **Computing Metrics:**

   ```python
   from metrics import (
       SilhouetteScoreMetric,
       DaviesBouldinMetric,
       AdjustedRandIndexMetric,
       AdjustedMutualInfoMetric,
       PurityMetric,
       AverageEntropyMetric,
       TrustworthinessMetric,
       IntraClassCompactnessMetric,
       InterClassSeparationMetric,
       CompactnessToSeparationRatio,
       MutualInformationMetric,
       UniformityMetric,
       AlignmentMetric
   )

   # Initialize metrics
   metrics = [
       SilhouetteScoreMetric(),
       DaviesBouldinMetric(),
       AdjustedRandIndexMetric(),
       AdjustedMutualInfoMetric(),
       PurityMetric(),
       AverageEntropyMetric(),
       TrustworthinessMetric(),
       IntraClassCompactnessMetric(),
       InterClassSeparationMetric(),
       CompactnessToSeparationRatio(),
       MutualInformationMetric(),
       UniformityMetric(),
       AlignmentMetric()
   ]

   # Compute metrics
   results = {}
   for metric in metrics:
       value = metric.compute(embeddings_2d, labels, n_clusters, original_embeddings=original_embeddings, predicted_labels=predicted_labels)
       results[metric.__class__.__name__] = value

   # Display results
   for metric_name, value in results.items():
       print(f"{metric_name}: {value}")
   ```